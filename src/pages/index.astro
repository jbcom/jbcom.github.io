---
import resume from '../content/resume.json'
import BaseLayout from '../layouts/BaseLayout.astro'

const { basics, projects } = resume
const featuredProjects = projects.slice(0, 3)

const stats = [
  { value: '15+', label: 'Years' },
  { value: '40+', label: 'Packages' },
  { value: '$100K+/mo', label: 'Savings' },
  { value: '3', label: 'Cloud Platforms' },
]

const expertiseCards = [
  {
    title: 'AI & Automation',
    description:
      'Pioneered AI-driven operations 2+ years before agentic frameworks existed. Built autonomous AI engineering teams and published OSS frameworks.',
    accent: 'var(--brand)',
    size: 'large',
  },
  {
    title: 'Infrastructure',
    description:
      'Multi-cloud architecture across AWS, GCP, and Azure. Terraform IaC, serverless, and container orchestration at scale.',
    accent: 'var(--accent-tech)',
    size: 'small',
  },
  {
    title: 'Security & SRE',
    description:
      'Zero-trust security, secrets management, incident response. Drove MTTR reduction and 99.9%+ uptime.',
    accent: 'var(--success)',
    size: 'small',
  },
  {
    title: 'Platform Engineering',
    description:
      'CI/CD pipeline design, GitOps, observability. Reduced AWS costs $100K+/month through architecture optimization.',
    accent: 'var(--brand)',
    size: 'large',
  },
]
---

<BaseLayout title="Home">
  <!-- Hero Section -->
  <section class="hero" aria-labelledby="hero-heading">
    <div class="hero-bg"></div>
    <div class="hero-content container">
      <h1 id="hero-heading" class="hero-name">{basics.name}</h1>
      <p class="hero-tagline">
        {basics.yearsExperience} years spanning DevOps, SRE, Security, AI &amp; Platform Engineering
      </p>
      <div class="stats-bar" role="list" aria-label="Career highlights">
        {stats.map((stat) => (
          <div class="stat-item" role="listitem">
            <span class="stat-value">{stat.value}</span>
            <span class="stat-label">{stat.label}</span>
          </div>
        ))}
      </div>
      <div class="hero-actions">
        <a href="/resume/" class="btn btn-primary btn-lg">View Resume</a>
        <a href="/projects/" class="btn btn-outlined btn-lg">Explore Projects</a>
      </div>
    </div>
  </section>

  <!-- Expertise Bento Grid -->
  <section class="section-expertise" aria-labelledby="expertise-heading">
    <div class="container">
      <p class="overline">What I Do</p>
      <h2 id="expertise-heading">Expertise</h2>
      <div class="bento-grid">
        {expertiseCards.map((card) => (
          <article
            class:list={['bento-card', `bento-${card.size}`]}
            style={`--card-accent: ${card.accent}`}
          >
            <h3 class="bento-title">{card.title}</h3>
            <p class="bento-description">{card.description}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Projects Strip -->
  <section class="section-projects" aria-labelledby="projects-heading">
    <div class="container">
      <p class="overline">Featured Projects</p>
      <h2 id="projects-heading">Open Source</h2>
      <div class="projects-grid">
        {featuredProjects.map((project) => (
          <article class="project-card">
            <h3 class="project-name">{project.name}</h3>
            <p class="project-description">{project.description}</p>
            <a
              href={project.url}
              class="project-link"
              target="_blank"
              rel="noopener noreferrer"
            >
              View on GitHub
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section-cta" aria-labelledby="cta-heading">
    <div class="container cta-container">
      <h2 id="cta-heading">Ready to connect?</h2>
      <p class="cta-text">
        Explore my full career journey, detailed resume, or get in touch.
      </p>
      <div class="cta-actions">
        <a href="/journey/" class="btn btn-primary btn-lg">Journey</a>
        <a href="/resume/" class="btn btn-outlined btn-lg">Resume</a>
        <a
          href="mailto:jon@jonbogaty.com"
          class="btn btn-outlined btn-lg"
        >
          Contact
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* ── Hero ─────────────────────────────────────────────────────────────── */
  .hero {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    background-image:
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 59px,
        rgba(232, 168, 73, 0.04) 59px,
        rgba(232, 168, 73, 0.04) 60px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 59px,
        rgba(232, 168, 73, 0.04) 59px,
        rgba(232, 168, 73, 0.04) 60px
      );
    pointer-events: none;
    z-index: 0;
  }

  .hero-content {
    position: relative;
    z-index: 1;
    text-align: center;
    padding-block: var(--space-4xl) var(--space-3xl);
  }

  .hero-name {
    font-family: var(--font-heading);
    font-size: clamp(3rem, 8vw, 5.5rem);
    font-weight: 400;
    line-height: 1.05;
    margin-bottom: var(--space-md);
    background: linear-gradient(135deg, #E8A849, #F0B866);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-tagline {
    font-family: var(--font-body);
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    color: var(--text-secondary);
    line-height: 1.6;
    max-width: 640px;
    margin: 0 auto var(--space-2xl);
  }

  /* ── Stats Bar ───────────────────────────────────────────────────────── */
  .stats-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0;
    margin-bottom: var(--space-2xl);
    flex-wrap: wrap;
  }

  .stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-md) var(--space-xl);
  }

  .stat-item + .stat-item {
    border-left: 1px solid var(--border);
  }

  .stat-value {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    font-weight: 400;
    color: var(--text-primary);
  }

  .stat-label {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-disabled);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  /* ── Hero Actions ────────────────────────────────────────────────────── */
  .hero-actions {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  /* ── Expertise Bento Grid ────────────────────────────────────────────── */
  .section-expertise {
    padding: var(--space-3xl) 0;
  }

  .section-expertise .overline {
    margin-bottom: var(--space-sm);
  }

  .section-expertise h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 400;
    color: var(--text-primary);
    margin-bottom: var(--space-xl);
  }

  .bento-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: auto auto;
    gap: var(--space-lg);
  }

  .bento-large:nth-child(1) {
    grid-column: 1 / 3;
  }

  .bento-small:nth-child(2) {
    grid-column: 3 / 4;
  }

  .bento-small:nth-child(3) {
    grid-column: 4 / 5;
  }

  .bento-large:nth-child(4) {
    grid-column: 3 / 5;
  }

  .bento-card {
    background: var(--bg-surface);
    border: 1px solid var(--border);
    border-top: 3px solid var(--card-accent);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    transition:
      border-color 0.2s ease,
      background 0.2s ease,
      transform 0.2s ease;
  }

  .bento-card:hover {
    background: var(--bg-elevated);
    border-color: var(--card-accent);
    transform: translateY(-2px);
  }

  .bento-title {
    font-family: var(--font-heading);
    font-size: 1.35rem;
    font-weight: 400;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
  }

  .bento-description {
    font-family: var(--font-body);
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.7;
    margin: 0;
  }

  /* ── Featured Projects Strip ─────────────────────────────────────────── */
  .section-projects {
    padding: var(--space-3xl) 0;
    border-top: 1px solid var(--border);
  }

  .section-projects .overline {
    margin-bottom: var(--space-sm);
  }

  .section-projects h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 400;
    color: var(--text-primary);
    margin-bottom: var(--space-xl);
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
  }

  .project-card {
    background: var(--bg-surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    display: flex;
    flex-direction: column;
    transition:
      border-color 0.2s ease,
      background 0.2s ease,
      transform 0.2s ease;
  }

  .project-card:hover {
    background: var(--bg-elevated);
    border-color: var(--accent-tech);
    transform: translateY(-2px);
  }

  .project-name {
    font-family: var(--font-mono);
    font-size: 1.05rem;
    font-weight: 500;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
  }

  .project-description {
    font-family: var(--font-body);
    font-size: 0.875rem;
    color: var(--text-secondary);
    line-height: 1.7;
    margin: 0 0 var(--space-lg);
    flex-grow: 1;
  }

  .project-link {
    font-family: var(--font-body);
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--accent-tech);
    text-decoration: none;
    transition: color 0.15s ease;
  }

  .project-link:hover {
    color: var(--brand-light);
    text-decoration: underline;
  }

  /* ── CTA Section ─────────────────────────────────────────────────────── */
  .section-cta {
    padding: var(--space-4xl) 0;
    border-top: 1px solid var(--border);
  }

  .cta-container {
    text-align: center;
  }

  .section-cta h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 400;
    color: var(--text-primary);
    margin-bottom: var(--space-md);
  }

  .cta-text {
    font-family: var(--font-body);
    font-size: 1.05rem;
    color: var(--text-secondary);
    line-height: 1.6;
    max-width: 520px;
    margin: 0 auto var(--space-xl);
  }

  .cta-actions {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  /* ── Responsive ──────────────────────────────────────────────────────── */
  @media (max-width: 768px) {
    .hero-content {
      padding-block: var(--space-3xl) var(--space-2xl);
    }

    .stats-bar {
      flex-wrap: wrap;
      gap: 0;
    }

    .stat-item {
      padding: var(--space-sm) var(--space-md);
    }

    .stat-value {
      font-size: 1.25rem;
    }

    .bento-grid {
      grid-template-columns: 1fr;
    }

    .bento-large:nth-child(1),
    .bento-small:nth-child(2),
    .bento-small:nth-child(3),
    .bento-large:nth-child(4) {
      grid-column: 1 / -1;
    }

    .projects-grid {
      grid-template-columns: 1fr;
    }

    .cta-actions {
      flex-direction: column;
      align-items: center;
    }

    .cta-actions .btn {
      width: 100%;
      max-width: 280px;
    }
  }

  @media (max-width: 480px) {
    .hero-name {
      font-size: 2.5rem;
    }

    .hero-tagline {
      font-size: 0.95rem;
    }

    .stat-item + .stat-item {
      border-left: none;
    }

    .stats-bar {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    .stat-item {
      padding: var(--space-md);
      border-bottom: 1px solid var(--border);
    }

    .stat-item:nth-child(odd) {
      border-right: 1px solid var(--border);
    }

    .stat-item:nth-last-child(-n+2) {
      border-bottom: none;
    }

    .hero-actions {
      flex-direction: column;
      align-items: center;
    }

    .hero-actions .btn {
      width: 100%;
      max-width: 280px;
    }
  }
</style>
